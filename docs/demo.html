<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signature Canvas Workspace</title>
    <meta name="description" content="Professional signature canvas workspace - Create, customize, and export digital signatures">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üñãÔ∏è</text></svg>">
    
    <!-- SignaturePad Library - Load First -->
    <script src="../src/SignaturePad.js"></script>
    
    <!-- Canvas Workspace Styles -->
    <link rel="stylesheet" href="demo-canvas.css">
    
    <!-- Debug Styles - Remove when working -->
    <style>
        .workspace-container {
            display: grid !important;
            grid-template-columns: 320px 1fr 320px !important;
            grid-template-rows: 1fr !important;
            height: calc(100vh - 60px) !important;
            gap: 0 !important;
            border: 3px solid red !important;
        }
        .left-panel {
            background: #ffcccc !important;
            grid-column: 1 !important;
            overflow-y: auto !important;
        }
        .center-panel {
            background: #ccffcc !important;
            grid-column: 2 !important;
            overflow: hidden !important;
        }
        .right-panel {
            background: #ccccff !important;
            grid-column: 3 !important;
            overflow-y: auto !important;
        }
    </style>
</head>
<body>
    <!-- Top Toolbar -->
    <div class="top-toolbar">
        <div class="toolbar-left">
            <button onclick="backToDocumentation()" class="toolbar-btn">
                ‚Üê Back to Docs
            </button>
            <span class="toolbar-separator">|</span>
            <span class="workspace-title">üé® Signature Canvas</span>
        </div>
        
        <div class="toolbar-center">
            <div class="canvas-info">
                <span id="canvas-size-info">800 √ó 450px</span>
                <span class="separator">‚Ä¢</span>
                <span id="canvas-status" class="status-indicator ready">Ready</span>
            </div>
        </div>
        
        <div class="toolbar-right">
            <button onclick="forkOnGitHub()" class="toolbar-btn primary">
                Fork on GitHub
            </button>
        </div>
    </div>

    <!-- Main Workspace -->
    <div class="workspace-container">
        <!-- Left Panel - Tools -->
        <div class="left-panel">
            <!-- Pen Settings -->
            <section class="tool-section">
                <h3>üñäÔ∏è Pen Settings</h3>
                
                <div class="control-group">
                    <label for="pen-color">Pen Color</label>
                    <input type="color" id="pen-color" value="#000000" onchange="updatePenColor(this.value)">
                </div>
                
                <div class="color-presets">
                    <div class="color-swatch active" data-color="#000000" style="background: #000000" onclick="selectColor('#000000')"></div>
                    <div class="color-swatch" data-color="#2563eb" style="background: #2563eb" onclick="selectColor('#2563eb')"></div>
                    <div class="color-swatch" data-color="#dc2626" style="background: #dc2626" onclick="selectColor('#dc2626')"></div>
                    <div class="color-swatch" data-color="#16a34a" style="background: #16a34a" onclick="selectColor('#16a34a')"></div>
                    <div class="color-swatch" data-color="#9333ea" style="background: #9333ea" onclick="selectColor('#9333ea')"></div>
                    <div class="color-swatch" data-color="#ea580c" style="background: #ea580c" onclick="selectColor('#ea580c')"></div>
                    <div class="color-swatch" data-color="#0891b2" style="background: #0891b2" onclick="selectColor('#0891b2')"></div>
                    <div class="color-swatch" data-color="#be185d" style="background: #be185d" onclick="selectColor('#be185d')"></div>
                </div>
                
                <div class="control-group">
                    <label for="min-width">Min Width: <span id="min-width-value">0.5</span></label>
                    <input type="range" min="0.1" max="5" step="0.1" value="0.5" oninput="updateMinWidth(this.value)">
                </div>
                
                <div class="control-group">
                    <label for="max-width">Max Width: <span id="max-width-value">2.5</span></label>
                    <input type="range" min="0.5" max="10" step="0.1" value="2.5" oninput="updateMaxWidth(this.value)">
                </div>
                
                <div class="control-group">
                    <label for="velocity">Velocity Filter: <span id="velocity-value">0.7</span></label>
                    <input type="range" min="0" max="1" step="0.1" value="0.7" oninput="updateVelocityFilter(this.value)">
                </div>
            </section>

            <!-- Canvas Settings -->
            <section class="tool-section">
                <h3>üìê Canvas Settings</h3>
                
                <div class="control-group">
                    <label for="bg-color">Background Color</label>
                    <input type="color" id="bg-color" value="#ffffff" onchange="updateBackgroundColor(this.value)">
                </div>
                
                <div class="control-group">
                    <div class="switch-group">
                        <label>Guidelines</label>
                        <label class="switch">
                            <input type="checkbox" id="show-guidelines" onchange="toggleGuidelines(this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="control-group">
                    <label for="guideline-color">Guideline Color</label>
                    <input type="color" id="guideline-color" value="#e2e8f0" onchange="updateGuidelineColor(this.value)">
                </div>
                
                <div class="control-group">
                    <label for="guideline-pattern">Pattern</label>
                    <select id="guideline-pattern" onchange="updateGuidelinePattern(this.value)">
                        <option value="solid">Solid Lines</option>
                        <option value="dashed">Dashed Lines</option>
                        <option value="dotted">Dotted Lines</option>
                        <option value="grid">Grid</option>
                    </select>
                </div>
                
                <div class="zoom-controls">
                    <button onclick="zoomOut()" class="zoom-btn">‚àí</button>
                    <span id="zoom-info">800√ó450</span>
                    <button onclick="zoomIn()" class="zoom-btn">+</button>
                </div>
            </section>

            <!-- Style Presets -->
            <section class="tool-section">
                <h3>üé≠ Style Presets</h3>
                
                <div class="preset-grid">
                    <button onclick="applyPreset('professional')" class="preset-btn">Professional</button>
                    <button onclick="applyPreset('creative')" class="preset-btn">Creative</button>
                    <button onclick="applyPreset('elegant')" class="preset-btn">Elegant</button>
                    <button onclick="applyPreset('bold')" class="preset-btn">Bold</button>
                    <button onclick="applyPreset('minimal')" class="preset-btn">Minimal</button>
                    <button onclick="applyPreset('neon')" class="preset-btn neon">Neon ‚ú®</button>
                </div>
            </section>

            <!-- üöÄ Modern Effects -->
            <section class="tool-section">
                <h3>‚ú® Modern Effects</h3>
                
                <div class="control-group">
                    <div class="switch-group">
                        <label>Glow Effect</label>
                        <label class="switch">
                            <input type="checkbox" id="glow-effect" onchange="toggleGlowEffect(this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="control-group">
                    <div class="switch-group">
                        <label>Pressure Sensitivity</label>
                        <label class="switch">
                            <input type="checkbox" id="pressure-sensitivity" checked onchange="togglePressureSensitivity(this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="control-group">
                    <div class="switch-group">
                        <label>Stroke Animation</label>
                        <label class="switch">
                            <input type="checkbox" id="stroke-animation" onchange="toggleStrokeAnimation(this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="control-group">
                    <label for="blend-mode">Blend Mode</label>
                    <select id="blend-mode" onchange="updateBlendMode(this.value)">
                        <option value="normal">Normal</option>
                        <option value="multiply">Multiply</option>
                        <option value="screen">Screen</option>
                        <option value="overlay">Overlay</option>
                        <option value="color-dodge">Color Dodge</option>
                        <option value="color-burn">Color Burn</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="texture-style">Texture Style</label>
                    <select id="texture-style" onchange="updateTexture(this.value)">
                        <option value="smooth">Smooth</option>
                        <option value="rough">Rough</option>
                        <option value="pencil">Pencil</option>
                        <option value="marker">Marker</option>
                        <option value="watercolor">Watercolor</option>
                    </select>
                </div>
            </section>

            <!-- üé® Themes -->
            <section class="tool-section">
                <h3>üé® Themes</h3>
                
                <div class="theme-grid">
                    <button onclick="applyTheme('light')" class="theme-btn active" data-theme="light">
                        <div class="theme-preview light"></div>
                        <span>Light</span>
                    </button>
                    <button onclick="applyTheme('dark')" class="theme-btn" data-theme="dark">
                        <div class="theme-preview dark"></div>
                        <span>Dark</span>
                    </button>
                    <button onclick="applyTheme('neon')" class="theme-btn" data-theme="neon">
                        <div class="theme-preview neon"></div>
                        <span>Neon</span>
                    </button>
                    <button onclick="applyTheme('retro')" class="theme-btn" data-theme="retro">
                        <div class="theme-preview retro"></div>
                        <span>Retro</span>
                    </button>
                </div>
            </section>

            <!-- Sample Signatures -->
            <section class="tool-section">
                <h3>‚úçÔ∏è Sample Signatures</h3>
                
                <div class="sample-grid">
                    <button onclick="loadSampleSignature('elegant')" class="sample-btn">
                        <svg width="60" height="30" viewBox="0 0 300 150">
                            <path id="sample-elegant" d="M50,75 Q100,50 150,75 T250,75" 
                                  stroke="#000000" stroke-width="2" fill="none" stroke-linecap="round"/>
                        </svg>
                        <span>Elegant</span>
                    </button>
                    
                    <button onclick="loadSampleSignature('bold')" class="sample-btn">
                        <svg width="60" height="30" viewBox="0 0 300 150">
                            <path id="sample-bold" d="M50,90 L80,60 L110,90 L140,60 L170,90 L200,60 L230,90" 
                                  stroke="#000000" stroke-width="4" fill="none" stroke-linecap="round"/>
                        </svg>
                        <span>Bold</span>
                    </button>
                    
                    <button onclick="loadSampleSignature('cursive')" class="sample-btn">
                        <svg width="60" height="30" viewBox="0 0 300 150">
                            <path id="sample-cursive" d="M50,80 Q70,60 90,80 Q110,100 130,80 Q150,60 170,80 Q190,100 210,80 Q230,60 250,80" 
                                  stroke="#000000" stroke-width="2" fill="none" stroke-linecap="round"/>
                        </svg>
                        <span>Cursive</span>
                    </button>
                    
                    <button onclick="loadSampleSignature('minimal')" class="sample-btn">
                        <svg width="60" height="30" viewBox="0 0 300 150">
                            <path id="sample-minimal" d="M80,75 L220,75 M150,50 L150,100" 
                                  stroke="#000000" stroke-width="1" fill="none" stroke-linecap="round"/>
                        </svg>
                        <span>Minimal</span>
                    </button>
                </div>
            </section>
        </div>

        <!-- Center Panel - Canvas -->
        <div class="center-panel">
            <div class="canvas-toolbar">
                <button onclick="clearCanvas()" class="action-btn danger">üóëÔ∏è Clear</button>
                <button onclick="undoLast()" class="action-btn">‚Ü∂ Undo</button>
                <button onclick="redoLast()" class="action-btn">‚Ü∑ Redo</button>
                <span class="toolbar-separator">|</span>
                <button onclick="saveToMemory()" class="action-btn">üíæ Save</button>
                <button onclick="loadFromMemory()" class="action-btn">üìÇ Load</button>
            </div>
            
            <div class="canvas-container">
                <canvas id="guidelines-canvas"></canvas>
                <canvas id="signature-canvas"></canvas>
            </div>
            
            <div class="canvas-footer">
                <span>Use mouse or touch to draw ‚Ä¢ Ctrl+Z to undo ‚Ä¢ Ctrl+S to save</span>
            </div>
        </div>

        <!-- Right Panel - Export -->
        <div class="right-panel">
            <!-- Quick Export -->
            <section class="tool-section">
                <h3>üíæ Quick Export</h3>
                
                <div class="export-grid">
                    <button onclick="downloadSignature('png')" class="export-btn primary">PNG</button>
                    <button onclick="downloadSignature('jpeg')" class="export-btn">JPEG</button>
                    <button onclick="downloadSignature('svg')" class="export-btn">SVG</button>
                    <button onclick="exportData('json')" class="export-btn">JSON</button>
                </div>
            </section>

            <!-- Data Export -->
            <section class="tool-section">
                <h3>üìä Data Export</h3>
                
                <div class="data-buttons">
                    <button onclick="exportData('png')" class="data-btn">PNG Data</button>
                    <button onclick="exportData('jpeg')" class="data-btn">JPEG Data</button>
                    <button onclick="exportData('svg')" class="data-btn">SVG Data</button>
                    <button onclick="exportData('json')" class="data-btn">JSON Data</button>
                </div>
                
                <div id="data-output" class="data-output">
                    Export data will appear here...
                </div>
            </section>

            <!-- Code Export -->
            <section class="tool-section">
                <h3>üíª Code Export</h3>
                
                <div class="code-buttons">
                    <button onclick="exportCode('html')" class="code-btn">HTML</button>
                    <button onclick="exportCode('css')" class="code-btn">CSS</button>
                    <button onclick="exportCode('js')" class="code-btn">JavaScript</button>
                    <button onclick="exportCode('complete')" class="code-btn complete">Complete</button>
                </div>
                
                <div id="code-output" class="code-output">
                    Code snippets will appear here...
                </div>
            </section>

            <!-- Storage -->
            <section class="tool-section">
                <h3>üè† Browser Storage</h3>
                
                <div class="storage-buttons">
                    <button onclick="saveToLocalStorage()" class="storage-btn">Save Local</button>
                    <button onclick="loadFromLocalStorage()" class="storage-btn">Load Local</button>
                    <button onclick="clearLocalStorage()" class="storage-btn danger">Clear All</button>
                </div>
            </section>
        </div>
    </div>

    <!-- Canvas Workspace JavaScript -->
    <script src="demo-canvas.js"></script>

    <!-- Navigation Scripts -->
    <script>
        function backToDocumentation() {
            if (document.referrer && document.referrer.includes('signature-pad')) {
                history.back();
            } else {
                // Assuming docs structure, go to parent directory
                window.location.href = '../index.html';
            }
        }
        
        function forkOnGitHub() {
            window.open('https://github.com/niel-blanca/signature-pad-js', '_blank');
        }
    </script>
</body>
</html>